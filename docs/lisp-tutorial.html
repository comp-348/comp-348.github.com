<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2020-10-21 Wed 11:44 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Lisp tutorial for COMP 348</title>
<meta name="generator" content="Org mode" />
<meta name="author" content="Philip Dumaresq" />
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #ccc;
    box-shadow: 3px 3px 3px #eee;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: visible;
    padding-top: 1.2em;
  }
  pre.src:before {
    display: none;
    position: absolute;
    background-color: white;
    top: -10px;
    right: 10px;
    padding: 3px;
    border: 1px solid black;
  }
  pre.src:hover:before { display: inline;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .equation-container {
    display: table;
    text-align: center;
    width: 100%;
  }
  .equation {
    vertical-align: middle;
  }
  .equation-label {
    display: table-cell;
    text-align: right;
    vertical-align: middle;
  }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { width: 90%; }
  /*]]>*/-->
</style>
<link rel="stylesheet" type="text/css" href="https://comp-348.github.io/assets/org.css" />
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2020 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
</head>
<body>
<div id="content">
<h1 class="title">Lisp tutorial for COMP 348</h1>
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#org835806e">Lisp at a high level</a>
<ul>
<li><a href="#org0bea26f">Lisp Syntax</a></li>
<li><a href="#orgc14b0ff">Core functions</a>
<ul>
<li><a href="#org09f7201">Destructing and rebuilding lists</a></li>
</ul>
</li>
<li><a href="#org39d6dac">Trees</a>
<ul>
<li><a href="#orgd6b5655">Binary Search:</a></li>
<li><a href="#org05ee49e">Tree Traversals</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<div class="org-center">
<p>
<a href="index.html">Back</a>
</p>
</div>

<div id="outline-container-org835806e" class="outline-2">
<h2 id="org835806e">Lisp at a high level</h2>
<div class="outline-text-2" id="text-org835806e">
<p>
Lisp is a high-level, dynamically typed functional programming language. Lisp first came out in
1959, around the same time as FORTRAN. Back then it was LISP, which stood for LISt Processing. As
the name indicates, Lisp is very very good at processing linked lists, and was originally created to
prerform tasks in symbolic computation and artificial intelligence. Today, there are many modern
derivatives to LISP, such as Common Lisp, Scheme, Racket and Clojure. In this course, we focus on
Common Lisp, which first appeared in the last 1980's as a standardization by ANSI converging
features from several prominent dialects at the time. 
</p>
</div>

<div id="outline-container-org0bea26f" class="outline-3">
<h3 id="org0bea26f">Lisp Syntax</h3>
<div class="outline-text-3" id="text-org0bea26f">
<p>
Lisp syntax is very simple. Unlike most programming languages that are filled with different
syntaxes, keywords and operators, Lisp's syntax is uniform and concise. Everything that you write in
Lisp will take the form <code>(function-name arg-1 arg-2 ...)</code>. That's the whole syntax for the
language. For example, to define a linked list, we use the <code>list</code> function, like so: 
</p>

<div class="org-src-container">
<pre class="src src-lisp">(list 1 2 3 4 5<span style="color: #5B6268;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgc14b0ff" class="outline-3">
<h3 id="orgc14b0ff">Core functions</h3>
<div class="outline-text-3" id="text-orgc14b0ff">
<p>
Would as you could guess, create a list with 5 elements. Now, as mentioned, Lisp is very good at
processing linked lists, which includes extracting data from the lists, transforming them, etc. Two
of the most important functions for this are <code>car</code> and <code>cdr</code>. The first one, <code>car</code> will return the first
element of a list, and <code>cdr</code> will return a list containing everything <i>except</i> the first element - the
tail of the list. 
</p>

<div class="org-src-container">
<pre class="src src-lisp">(<span style="color: #51afef;">defvar</span> <span style="color: #dcaeea;">my-list</span> (list 1 2 3 4 5<span style="color: #5B6268;">))</span>

(car my-list) <span style="color: #5B6268;">; 1</span>
(cdr my-list) <span style="color: #5B6268;">; '(2 3 4 5)</span>
</pre>
</div>

<p>
So in this snippet we simply define a variable called <code>my-list</code> and then get the head and the tail of
that list. The 3 important function that we need to use when dealing with lists is called <code>cons</code>, and
it allows us to <code>cons</code>-truct new lists. The arguments to <code>cons</code> are going to be the first element of the
new list, and the <i>tail</i> of the new list. For example, 
</p>

<div class="org-src-container">
<pre class="src src-lisp">(cons 1 (list 2 3 4 5)) <span style="color: #5B6268;">; '(1 2 3 4 5)</span>
</pre>
</div>
</div>

<div id="outline-container-org09f7201" class="outline-4">
<h4 id="org09f7201">Destructing and rebuilding lists</h4>
<div class="outline-text-4" id="text-org09f7201">
<p>
We can use these 3 functions, <code>car</code>, <code>cdr</code> and <code>cons</code> to take apart lists and put them back together very
easily. Consider the following function:
</p>

<div class="org-src-container">
<pre class="src src-lisp">(<span style="color: #51afef;">defun</span> <span style="color: #c678dd;">list-identity</span> (list<span style="color: #5B6268;">)</span>
  (<span style="color: #51afef;">if</span> (null list<span style="color: #5B6268;">)</span>
      (<span style="color: #5B6268;">)</span>
      (cons (car list) (list-identity (cdr list<span style="color: #5B6268;">)))))</span>
</pre>
</div>

<p>
This is an <i>identity</i> function for a list, meaning it outputs whatever was input to it. It takes a
single parameter, <code>list</code>. It first checks if the list is empty using <code>(null list)</code> - in Lisp, an empty
list is considered null. If it is empty, then we return an empty list. If it is not, then we
reconstruct a new list from the components: the head of the list, and a recursive call to the
identity function with the tail of the list. This is all just an overly comlicated way of showing
that we can use these 3 functions to take apart a list and rebuild it again recursively, and this is
a pattern that we see a lot of in Lisp. For example, let's say we wanted to add a constant number to
every value in that list:
</p>

<div class="org-src-container">
<pre class="src src-lisp">(<span style="color: #51afef;">defun</span> <span style="color: #c678dd;">list-add-constant</span> (list constant<span style="color: #5B6268;">)</span>
  (<span style="color: #51afef;">if</span> (null list<span style="color: #5B6268;">)</span>
      (<span style="color: #5B6268;">)</span>
      (cons (+ (car list) constant) 
      (list-add-constant (cdr list) constant<span style="color: #5B6268;">))))</span>
</pre>
</div>

<p>
Here we have almost the same function as before: we check if the list is empty, if it is, we return
an empty list, otherwise, we construct a new list and return that. The only difference here is that
we add the constant to our number, and then pass the constant as the second argument to our
recursive call.
</p>

<p>
Like I said, this is a really common pattern in Lisp and in functional programming languages in
general, and this general pattern is going to be very helpful in your assignments. 
</p>
</div>
</div>
</div>

<div id="outline-container-org39d6dac" class="outline-3">
<h3 id="org39d6dac">Trees</h3>
<div class="outline-text-3" id="text-org39d6dac">
<p>
One of the things we do a lot of in this class is talk about binary trees. Building binary trees,
searching binary trees, balancing binary trees, etc. Here's how we tend to represent binary trees in
this course: 
</p>

<div class="org-src-container">
<pre class="src src-lisp">(7 (1 nil 
      (2 nil nil)) 
   (8 nil 
      (9 nil nil<span style="color: #5B6268;">)))</span>
</pre>
</div>

<p>
Here, we have a single tree who's root node is <code>7</code>. It has a left subtree and a right subtree, both of
which have 2 nodes in their subtrees. If we were to visualize this as a normal tree, it would look
like this:
</p>

<div class="org-src-container">
<pre class="src src-java">    7
  /   \
 1     8
/ \   / \
   2     9
  / \   / \
</pre>
</div>

<p>
Now, since creating binary trees and balancing them is sometimes on assignments, I can't provide
those as examples, but I can do binary-search and tree traversals. 
</p>
</div>

<div id="outline-container-orgd6b5655" class="outline-4">
<h4 id="orgd6b5655">Binary Search:</h4>
<div class="outline-text-4" id="text-orgd6b5655">
<p>
A Binary search is a divide and conquer algorithm, so by nature it's going to be recursive. The
algorithm for binary search is simple:
</p>
<ol class="org-ol">
<li>if the element we're searching for is equal to the head, return true.</li>
<li>if the element we're searching for is less than the head, binary search the left subtree</li>
<li>if the element we're searching for is greater than the head, binary search the right subtree</li>
<li>If the subtree is empty, return false.</li>
</ol>

<p>
Here's how we'll implement that in Common Lisp:
</p>

<div class="org-src-container">
<pre class="src src-lisp">(<span style="color: #51afef;">defun</span> <span style="color: #c678dd;">binary-search</span> (list element<span style="color: #5B6268;">)</span>
  (<span style="color: #51afef;">cond</span> 
    <span style="color: #5B6268;">; If the subtree is empty, return false</span>
    ((null list) nil<span style="color: #5B6268;">)</span>
    <span style="color: #5B6268;">; If the head is equal to what we're search for, return true</span>
    ((equal (car list) element) t<span style="color: #5B6268;">)</span>
    <span style="color: #5B6268;">; If the head is greater than the element, binary search the left subtree</span>
    ((&gt; (car list) element<span style="color: #5B6268;">)</span>
     (binary-search (second list) element<span style="color: #5B6268;">))</span>
    <span style="color: #5B6268;">; If the head is less than the element, binary search the right subtree</span>
    ((&lt; (car list) element<span style="color: #5B6268;">)</span>
     (binary-search (third list) element<span style="color: #5B6268;">)))))</span>
</pre>
</div>

<p>
As you can see this is basically just a direct transcription of the algorithm for a binary
search. We use <code>cond</code> as our control flow here, which acts as a sequence of if/else if expressions and
just return from whichever condition is true.
</p>
</div>
</div>

<div id="outline-container-org05ee49e" class="outline-4">
<h4 id="org05ee49e">Tree Traversals</h4>
<div class="outline-text-4" id="text-org05ee49e">
<p>
Another common thing we want to do with trees is traverse them in various ways. With a binary-tree,
we often want to do an in-order traversal because it will visit each element in a sorted order. The
algorithm for an in-order traversal is pretty simple:
</p>
<ol class="org-ol">
<li>If the subtree is null, stop</li>
<li>Otherwise: 
<ol class="org-ol">
<li>perform in-order-traversal on the left subtree</li>
<li>Visit the root node</li>
<li>Perform in-order-traversal on the right subtree</li>
</ol></li>
</ol>

<div class="org-src-container">
<pre class="src src-lisp">(<span style="color: #51afef;">defun</span> <span style="color: #c678dd;">in-order-traversal</span> (tree<span style="color: #5B6268;">)</span>
  (<span style="color: #51afef;">cond</span>
    ((null tree) nil<span style="color: #5B6268;">)</span>
    (t (in-order-traversal (second tree<span style="color: #5B6268;">))</span>
       (print (first tree<span style="color: #5B6268;">))</span>
       (in-order-traversal (third tree<span style="color: #5B6268;">)))))</span>
</pre>
</div>

<p>
So if we run this with the same tree as above, it'll print 1, 2, 7, 8, 9. 
</p>

<p>
Now, from here there's a lot of very basic changes that we could make to make this function do some
other stuff, like instead of just printing every node, we could pass a lambda function that we call
instead of <code>print</code>. Or we could append the 3 things together to build a sorted list, or all sorts of
other things. 
</p>
</div>
</div>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="author">Author: Philip Dumaresq</p>
<p class="date">Created: 2020-10-21 Wed 11:44</p>
<p class="validation"><a href="http://validator.w3.org/check?uri=referer">Validate</a></p>
</div>
</body>
</html>
